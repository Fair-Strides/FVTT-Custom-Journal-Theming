/*
    Welcome to the inner sanctum of your own personal playground to design your
    own wonderful-looking journals! Having mutliple different active journal 
    themes (much like say, character sheets in the D&D 5e system) is something 
    I eventually want to tackle, but is not yet implemented as journals are not
    natively extensible the same way, as far as I've seen, so if anyone wants to
    reach out with a solution on how to do that, it would be greatly appreciated!
    Otherwise, see below for the general variables you can set to better customize
    your experience, whether it is to get that unique Sci-Fi look, make a
    dark theme or log your adventures in a cuter, funnier or grimer theme. Have fun!
                                                            - Sanyella

    Personalizing your journals
    *************************************
    If you want to customize the look of your journals, you can simply modify the
    variables' values for a uniform change. It is unrecommended to individually
    change values for elements, as these changes can become hard to track and to
    keep uniform, but the power is in your hands! It is after all quite possible 
    that my original settings do not allow for the exact thing you want, or we do 
    not perfectly agree on what belongs as an "accent", and that's ok :)

    Different things that cannot be parametherized with variables are also in there,
    I've tried to tag the most interesting ones with OPTION to make them easily 
    searchable (do you want drop caps at the beginning of your paragraphs, for 
    instance?).
    
    A final word of warning:
    Especially since there is currently no concept of multiple "themes" and no
    permanence of any of your changes, though updates aren't likely to come up all
    that often for this little module, they might still happen (such as perhaps to 
    introduce such theming) and ANY CHANGES YOU WOULD HAVE MADE WOULD BE LOST.

    ###############################################################################
    # PLEASE SAVE ANY CHANGES YOU WANT TO KEEP OUTSIDE OF THE MODULE TO SET THOSE #
    # BACK IN CASE OF A MODULE UPDATE.                                            #
    ###############################################################################

    Thanks, attributions & links
    *************************************
    Thanks to both Stryxin's dark mode module (https://github.com/Stryxin/dnd5edark-foundryvtt)
    and Felix's BetterNPCSheet module (https://github.com/syl3r86/BetterNPCSheet5e)
    which have both helped me tremendously in understanding how to structure my own
    module.
    Lovers Quarrel font: https://fonts.google.com/specimen/Lovers+Quarrel
    Anglo-text font: https://www.1001fonts.com/anglo-text-font.html
        For more drop-cap fonts: https://www.1001fonts.com/drop-caps-fonts.html
        And how to add them: https://www.pagecloud.com/blog/how-to-add-custom-fonts-to-any-website
    Dark background 1: https://www.publicdomainpictures.net/en/view-image.php?image=169017&picture=grunge-background
    Parchment 1, by FilterForge : https://www.flickr.com/photos/filterforge/9340122531

*/

/*
    Variables for uniform color control
    Using an editor like VSCode which has a built in color picker or an external 
    ressource that gives you the hexadecimal color code from a color picker is 
    recommended. Be careful too to give them a name unique to your theme so as to 
    not encounter any problems with properties overriding one another (just 
    search-and-replace the "--royal-journal-" pattern)
*/

body {
    --royal-journal-dark-accent-color: #b4882a;
    --royal-journal-base-accent-color: #d2b55c;
    --royal-journal-light-accent-color: #ddc65b;
    --royal-journal-translucent-accent-color: #b4882a60;
    --royal-journal-header-color: var(--royal-journal-base-accent-color);
    --royal-journal-base-text-color: #bfbfbf;
    --royal-journal-link-color: var(--royal-journal-base-accent-color);
    --royal-journal-link-visited-color: #c58b0e;
    --royal-journal-window-text-color: #bfbfbf;
    --royal-journal-button-background-color: #220410;
    --royal-journal-button-hover-color: #5f0b2c;
    --royal-journal-background-color: #b196a6;
    --royal-journal-background-texture-image: linear-gradient(to top, #220410, #5f0b2c, #220410);
}

/************************************************
	Headers and text
************************************************/

.sheet.journal-entry.royal-journal .journal-entry-content h1,
.sheet.journal-entry.royal-journal .journal-entry-content h2,
.sheet.journal-entry.royal-journal .journal-entry-content h3 {
    border-bottom: 1px solid var(--royal-journal-base-accent-color);
    color: var(--royal-journal-header-color);
    font-family: 'anglo_textregular';
    line-height: 90%;
}

.sheet.journal-entry.royal-journal .journal-entry-content h3,
.sheet.journal-entry.royal-journal .journal-entry-content h4,
.sheet.journal-entry.royal-journal .journal-entry-content h5,
.sheet.journal-entry.royal-journal .journal-entry-content h6 {
    color: var(--royal-journal-header-color);
}

.sheet.journal-entry.royal-journal .journal-entry-content p {
    color: var(--royal-journal-base-text-color);
}

/* bullet-point list */

.sheet.journal-entry.royal-journal .journal-entry-content ul {
    color: var(--royal-journal-base-text-color);
}

/* numbered list */

.sheet.journal-entry.royal-journal .journal-entry-content ol {
    color: var(--royal-journal-base-text-color);
}

/* tables in general */

.sheet.journal-entry.royal-journal  .journal-entry-content tbody {
    color: var(--royal-journal-base-text-color);
}

/* table header cells */

.sheet.journal-entry.royal-journal .journal-entry-content th {
    color: var(--royal-journal-header-color);
}

/* MEME minimal compatibility */

.sheet.journal-entry.royal-journal .CodeMirror {
    color: var(--royal-journal-base-text-color);
}

/* The cursor indicating where you are writing */

.sheet.journal-entry.royal-journal .CodeMirror-cursor {
    border-left: 1px solid var(--royal-journal-base-text-color);
}

/************************************************
    Special text and highlights
************************************************/

.sheet.journal-entry.royal-journal .journal-entry-content blockquote {
    color: var(--royal-journal-base-text-color);
}

.sheet.journal-entry.royal-journal .journal-entry-content ::selection {
    background: var(--royal-journal-base-accent-color);
}

/* Links (internet) */

.sheet.journal-entry.royal-journal a:link {
    color: var(--royal-journal-link-color);
}

.sheet.journal-entry.royal-journal a:visited {
    color: var(--royal-journal-link-visited-color);
}

.sheet.journal-entry.royal-journal a:hover {
    color: var(--royal-journal-link-color);
    text-shadow: 0px 0px 2px var(--royal-journal-light-accent-color);
}

/* Links (entity, rolls) */

.sheet.journal-entry.royal-journal a.entity-link,
.sheet.journal-entry.royal-journal a.content-link,
.sheet.journal-entry.royal-journal a.inline-roll {
    background-color: var(--royal-journal-button-background-color);
}

/* Secret section */

.sheet.journal-entry.royal-journal .journal-entry-content section.secret {
    color: var(--royal-journal-base-text-color);
    background-color: #df94ee20;
}

/* Modifies Polyglot CSS */

.sheet.journal-entry.royal-journal .journal-entry-content .polyglot-journal {
    background-color: var(--royal-journal-translucent-accent-color);
}

/* 
    OPTION Drop cap - you can add font and color options to this block, too!
    Changing sizes and fonts might require you to test and tweak quite a bit
    to get exactly the effect you want, but hey, drop caps are cool! 
*/

.sheet.journal-entry.royal-journal .journal-entry-content span.drop-cap {
    float: left;
    font-family: 'anglo_textregular';
    font-size: 3em;
    line-height: 0.8em;
    padding-top: 0em;
    padding-bottom: 0em;
    color: var(--royal-journal-header-color);
}

/*
    OPTION Added block styles
*/

.sheet.journal-entry.royal-journal section.simple-block {
    color: var(--royal-journal-base-text-color);
    background-color: var(--royal-journal-translucent-accent-color);
    border: 1px solid var(--royal-journal-base-accent-color);
    padding: 4px;
    margin-right: 2%;
    margin-left: 2%;
}

.sheet.journal-entry.royal-journal section.simple-block-float {
    color: var(--royal-journal-base-text-color);
    background-color: var(--royal-journal-translucent-accent-color);
    border: 1px solid var(--royal-journal-base-accent-color);
    padding: 4px;
    margin-right: 2%;
    margin-left: 2%;
    width: 35%;
    float: right;
}

.sheet.journal-entry.royal-journal section.ridged-block {
    color: var(--royal-journal-base-text-color);
    background-color: var(--royal-journal-translucent-accent-color);
    border: 5px ridge var(--royal-journal-base-accent-color);
    padding: 4px;
    margin-right: 2%;
    margin-left: 2%;
}

.sheet.journal-entry.royal-journal section.ridged-block-float {
    color: var(--royal-journal-base-text-color);
    background-color: var(--royal-journal-translucent-accent-color);
    border: 5px ridge var(--royal-journal-base-accent-color);
    padding: 4px;
    margin-right: 2%;
    margin-left: 2%;
    width: 35%;
    float: right;
}

/************************************************
    Background and various window elements
************************************************/

/* Journal title */

.sheet.journal-entry.royal-journal .journal-entry-content input[type="text"] {
    color: var(--royal-journal-header-color);
    /*font-family: 'anglo_textregular';
    font-size: 2.8em;*/
}

.sheet.journal-entry.royal-journal .journal-entry-content input[type="text"]:focus,
.sheet.journal-entry.royal-journal .journal-entry-content input[type="text"]:hover {
    box-shadow: 0 0 10px var(--royal-journal-base-accent-color);
}

/* Background */

.sheet.journal-entry.royal-journal .journal-entry-content  {
    background: var(--royal-journal-background-texture-image);
}

.sheet.journal-entry.royal-journal button {
    background-color: var(--royal-journal-button-background-color);
    color: var(--royal-journal-window-text-color);
    border-color: var(--royal-journal-button-hover-color);
}

.sheet.journal-entry.royal-journal button:hover {
    background-color: var(--royal-journal-button-hover-color);
    box-shadow: 0 0 10px var(--royal-journal-base-accent-color);
}

.sheet.journal-entry.royal-journal .scrollable {
    scrollbar-color: var(--royal-journal-base-accent-color) var(--royal-journal-dark-accent-color);
    scrollbar-width: thin;
}

/* Folder dropdown - upper bar */

.sheet.journal-entry.royal-journal select[name="folder"] {
    color: var(--royal-journal-header-color);
    background: var(--royal-journal-background-texture-image);
}

.sheet.journal-entry.royal-journal select[name="folder"]:focus, .royal-journal .editable select[name="folder"]:hover {
    box-shadow: 0 0 5px var(--royal-journal-base-accent-color);
}

/* Folder dropdown - the actual dropdown */

.sheet.journal-entry.royal-journal select[name="folder"] option {
    color: var(--royal-journal-header-color);
    background-color: var(--royal-journal-button-background-color);
}

/*
    One Journal compatibility
*/

/* Background with OneJournal */

#OneJournalShell .sheet.journal-entry.royal-journal.one-journal-attached .window-content {
    background: var(--royal-journal-background-texture-image);
}

/* Entry title underline with OneJournal */

.sheet.journal-entry.royal-journal.one-journal-attached form input[name="name"] {
    border-color: var(--royal-journal-base-accent-color);
}

/************************************************
    Editor 
    OPTION - depending on if you want the editing experience to be more or less
    the same as the modified presentation, or a more streamlined editing look, it
    is here that you should look to enable, disable, or tweak things.
************************************************/

/* Background */

.sheet.journal-entry.royal-journal .tox-edit-area {
    /* background: var(--royal-journal-background-texture-image); */
    background-color: var(--royal-journal-background-color);
}

/* Buttons in edit mode */

.sheet.journal-entry.royal-journal button {
    color: var(--royal-journal-base-text-color);
    background-color: var(--royal-journal-button-background-color);
}

.sheet.journal-entry.royal-journal button:hover {
    color: var(--royal-journal-base-text-color);
    background-color: var(--royal-journal-button-hover-color);
}

/* Header bar where the buttons are in edit mode */

.sheet.journal-entry.royal-journal .tox-toolbar-overlord, .royal-journal .editor .tox-toolbar__primary {
    background-color: var(--royal-journal-button-background-color);
}

/* Button to go into edit mode */

.sheet.journal-entry.royal-journal .editor-edit {
    color: var(--royal-journal-base-text-color);
    background-color: var(--royal-journal-button-background-color);
}

/* Allows for the button images to be in colour */

.sheet.journal-entry.royal-journal .tox :not(svg):not(rect) {
    fill: var(--royal-journal-base-text-color);
    color: var(--royal-journal-base-text-color);
}

/************************************************
Table of contents and the entire side panael for pages
that was introduced in v10's Journals 2.0 update.
************************************************/
/* ToC */
.sheet.journal-entry.royal-journal .journal-sidebar {
    background-image: var(--royal-journal-background-texture-image);
}

.sheet.journal-entry.royal-journal .directory-header,
.sheet.journal-entry.royal-journal .pages-list,
.sheet.journal-entry.royal-journal .action-buttons {
    font-family: 'anglo-textregular';
}

.sheet.journal-entry.royal-journal .pages-list .directory-item.active:first-of-type {
    border-top: 1px solid var(--royal-journal-base-accent-color);
    border-bottom: 1px solid transparent;
}

.sheet.journal-entry.royal-journal .pages-list .directory-item.active + :not(.active) {
    border-top: 1px solid var(--royal-journal-base-accent-color);
}

.sheet.journal-entry.royal-journal .pages-list .directory-item {
    border-top: 1px solid var(--royal-journal-base-accent-color);
}

.sheet.journal-entry.royal-journal .header-search input[type="search"],
.sheet.journal-entry.royal-journal .header-search input[type="search"]::placeholder  {
    background-color: var(--royal-journal-background-color)
}

.sheet.journal-entry.royal-journal .header-search input[type="search"]:-ms-input-placeholder {
    background-color: var(--royal-journal-background-color)
}

.sheet.journal-entry.royal-journal .header-search input[type="search"]::-ms-input-placeholder {
    background-color: var(--royal-journal-background-color)
}

.sheet.journal-entry.royal-journal .action-buttons button {
    font-family: 'anglo_textregular';
    font-weight: bolder;
    background-color: var(--royal-journal-button-background-color)
}

.sheet.journal-entry.royal-journal .action-buttons button:hover {
    background-color: var(--royal-journal-button-hover-color)
}

.sheet.journal-entry.royal-journal .page-title {
    font-size: 1.5em;
    color: var(--royal-journal-header-color);
}

.sheet.journal-entry.royal-journal .heading-link {
    font-size: 1.3em;
    color: var(--royal-journal-header-color);
}

.sheet.journal-entry.royal-journal .pages-list .directory-item:active,
.sheet.journal-entry.royal-journal .pages-list .directory-item:hover,
.sheet.journal-entry.royal-one-journal .heading-link:active,
.sheet.journal-entry.royal-journal .heading-link:hover {
    color: var(--royal-journal-light-accent-color);
}